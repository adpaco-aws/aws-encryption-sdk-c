
<html>
<head>
<title>verification/cbmc/aws-c-common/source/common.c</title>
<link rel="stylesheet" type="text/css" href="../../../../viewer.css">
</head>

<body>
<div class="code">
<div id="1" class="line none">    1 /**</div><div id="2" class="line none">    2  * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.</div><div id="3" class="line none">    3  * SPDX-License-Identifier: Apache-2.0.</div><div id="4" class="line none">    4  */</div><div id="5" class="line none">    5 </div><div id="6" class="line none">    6 #include &lt;aws/common/common.h&gt;</div><div id="7" class="line none">    7 #include &lt;aws/common/logging.h&gt;</div><div id="8" class="line none">    8 #include &lt;aws/common/math.h&gt;</div><div id="9" class="line none">    9 </div><div id="10" class="line none">   10 #include &lt;stdarg.h&gt;</div><div id="11" class="line none">   11 #include &lt;stdlib.h&gt;</div><div id="12" class="line none">   12 </div><div id="13" class="line none">   13 #ifdef _WIN32</div><div id="14" class="line none">   14 #    include &lt;Windows.h&gt;</div><div id="15" class="line none">   15 #endif</div><div id="16" class="line none">   16 </div><div id="17" class="line none">   17 #ifdef __MACH__</div><div id="18" class="line none">   18 #    include &lt;CoreFoundation/CoreFoundation.h&gt;</div><div id="19" class="line none">   19 #endif</div><div id="20" class="line none">   20 </div><div id="21" class="line none">   21 /* turn off unused named parameter warning on msvc.*/</div><div id="22" class="line none">   22 #ifdef _MSC_VER</div><div id="23" class="line none">   23 #    pragma warning(push)</div><div id="24" class="line none">   24 #    pragma warning(disable : 4100)</div><div id="25" class="line none">   25 #endif</div><div id="26" class="line none">   26 </div><div id="27" class="line none">   27 void <a href="common.c.html#27">aws_secure_zero</a>(void *pBuf, size_t bufsize) {</div><div id="28" class="line none">   28 #if defined(_WIN32)</div><div id="29" class="line none">   29     SecureZeroMemory(pBuf, bufsize);</div><div id="30" class="line none">   30 #else</div><div id="31" class="line none">   31     /* We cannot use memset_s, even on a C11 compiler, because that would require</div><div id="32" class="line none">   32      * that __STDC_WANT_LIB_EXT1__ be defined before the _first_ inclusion of string.h.</div><div id="33" class="line none">   33      *</div><div id="34" class="line none">   34      * We'll try to work around this by using inline asm on GCC-like compilers,</div><div id="35" class="line none">   35      * and by exposing the buffer pointer in a volatile local pointer elsewhere.</div><div id="36" class="line none">   36      */</div><div id="37" class="line none">   37 #    if defined(__GNUC__) || defined(__clang__)</div><div id="38" class="line hit">   38     memset(pBuf, 0, bufsize);</div><div id="39" class="line none">   39     /* This inline asm serves to convince the compiler that the buffer is (somehow) still</div><div id="40" class="line none">   40      * used after the zero, and therefore that the optimizer can't eliminate the memset.</div><div id="41" class="line none">   41      */</div><div id="42" class="line none">   42     __asm__ __volatile__("" /* The asm doesn't actually do anything. */</div><div id="43" class="line none">   43                          :  /* no outputs */</div><div id="44" class="line none">   44                          /* Tell the compiler that the asm code has access to the pointer to the buffer,</div><div id="45" class="line none">   45                           * and therefore it might be reading the (now-zeroed) buffer.</div><div id="46" class="line none">   46                           * Without this. clang/LLVM 9.0.0 optimizes away a memset of a stack buffer.</div><div id="47" class="line none">   47                           */</div><div id="48" class="line none">   48                          : "r"(pBuf)</div><div id="49" class="line none">   49                          /* Also clobber memory. While this seems like it might be unnecessary - after all,</div><div id="50" class="line none">   50                           * it's enough that the asm might read the buffer, right? - in practice GCC 7.3.0</div><div id="51" class="line none">   51                           * seems to optimize a zero of a stack buffer without it.</div><div id="52" class="line none">   52                           */</div><div id="53" class="line none">   53                          : "memory");</div><div id="54" class="line none">   54 #    else  // not GCC/clang</div><div id="55" class="line none">   55     /* We don't have access to inline asm, since we're on a non-GCC platform. Move the pointer</div><div id="56" class="line none">   56      * through a volatile pointer in an attempt to confuse the optimizer.</div><div id="57" class="line none">   57      */</div><div id="58" class="line none">   58     volatile void *pVolBuf = pBuf;</div><div id="59" class="line none">   59     memset(pVolBuf, 0, bufsize);</div><div id="60" class="line none">   60 #    endif // #else not GCC/clang</div><div id="61" class="line none">   61 #endif     // #else not windows</div><div id="62" class="line hit">   62 }</div><div id="63" class="line none">   63 </div><div id="64" class="line none">   64 #define <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(C, ES) [(C)-0x0000] = <a href="../include/aws/common/error.h.html#37">AWS_DEFINE_ERROR_INFO</a>(C, ES, "aws-c-common")</div><div id="65" class="line none">   65 /* clang-format off */</div><div id="66" class="line none">   66 static struct <a href="../include/aws/common/error.h.html#24">aws_error_info</a> <a href="common.c.html#66">errors</a>[] = {</div><div id="67" class="line none">   67     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="68" class="line none">   68         <a href="../include/aws/common/error.h.html#144">AWS_ERROR_SUCCESS</a>,</div><div id="69" class="line none">   69         "Success."),</div><div id="70" class="line none">   70     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="71" class="line none">   71         <a href="../include/aws/common/error.h.html#145">AWS_ERROR_OOM</a>,</div><div id="72" class="line none">   72         "Out of memory."),</div><div id="73" class="line none">   73     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="74" class="line none">   74         <a href="../include/aws/common/error.h.html#146">AWS_ERROR_UNKNOWN</a>,</div><div id="75" class="line none">   75         "Unknown error."),</div><div id="76" class="line none">   76     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="77" class="line none">   77         <a href="../include/aws/common/error.h.html#147">AWS_ERROR_SHORT_BUFFER</a>,</div><div id="78" class="line none">   78         "Buffer is not large enough to hold result."),</div><div id="79" class="line none">   79     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="80" class="line none">   80         <a href="../include/aws/common/error.h.html#148">AWS_ERROR_OVERFLOW_DETECTED</a>,</div><div id="81" class="line none">   81         "Fixed size value overflow was detected."),</div><div id="82" class="line none">   82     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="83" class="line none">   83         <a href="../include/aws/common/error.h.html#149">AWS_ERROR_UNSUPPORTED_OPERATION</a>,</div><div id="84" class="line none">   84         "Unsupported operation."),</div><div id="85" class="line none">   85     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="86" class="line none">   86         <a href="../include/aws/common/error.h.html#150">AWS_ERROR_INVALID_BUFFER_SIZE</a>,</div><div id="87" class="line none">   87         "Invalid buffer size."),</div><div id="88" class="line none">   88     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="89" class="line none">   89         <a href="../include/aws/common/error.h.html#151">AWS_ERROR_INVALID_HEX_STR</a>,</div><div id="90" class="line none">   90         "Invalid hex string."),</div><div id="91" class="line none">   91     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="92" class="line none">   92         <a href="../include/aws/common/error.h.html#152">AWS_ERROR_INVALID_BASE64_STR</a>,</div><div id="93" class="line none">   93         "Invalid base64 string."),</div><div id="94" class="line none">   94     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="95" class="line none">   95         <a href="../include/aws/common/error.h.html#153">AWS_ERROR_INVALID_INDEX</a>,</div><div id="96" class="line none">   96         "Invalid index for list access."),</div><div id="97" class="line none">   97     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="98" class="line none">   98         <a href="../include/aws/common/error.h.html#154">AWS_ERROR_THREAD_INVALID_SETTINGS</a>,</div><div id="99" class="line none">   99         "Invalid thread settings."),</div><div id="100" class="line none">  100     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="101" class="line none">  101         <a href="../include/aws/common/error.h.html#155">AWS_ERROR_THREAD_INSUFFICIENT_RESOURCE</a>,</div><div id="102" class="line none">  102         "Insufficent resources for thread."),</div><div id="103" class="line none">  103     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="104" class="line none">  104         <a href="../include/aws/common/error.h.html#156">AWS_ERROR_THREAD_NO_PERMISSIONS</a>,</div><div id="105" class="line none">  105         "Insufficient permissions for thread operation."),</div><div id="106" class="line none">  106     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="107" class="line none">  107         <a href="../include/aws/common/error.h.html#157">AWS_ERROR_THREAD_NOT_JOINABLE</a>,</div><div id="108" class="line none">  108         "Thread not joinable."),</div><div id="109" class="line none">  109     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="110" class="line none">  110         <a href="../include/aws/common/error.h.html#158">AWS_ERROR_THREAD_NO_SUCH_THREAD_ID</a>,</div><div id="111" class="line none">  111         "No such thread ID."),</div><div id="112" class="line none">  112     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="113" class="line none">  113         <a href="../include/aws/common/error.h.html#159">AWS_ERROR_THREAD_DEADLOCK_DETECTED</a>,</div><div id="114" class="line none">  114         "Deadlock detected in thread."),</div><div id="115" class="line none">  115     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="116" class="line none">  116         <a href="../include/aws/common/error.h.html#160">AWS_ERROR_MUTEX_NOT_INIT</a>,</div><div id="117" class="line none">  117         "Mutex not initialized."),</div><div id="118" class="line none">  118     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="119" class="line none">  119         <a href="../include/aws/common/error.h.html#161">AWS_ERROR_MUTEX_TIMEOUT</a>,</div><div id="120" class="line none">  120         "Mutex operation timed out."),</div><div id="121" class="line none">  121     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="122" class="line none">  122         <a href="../include/aws/common/error.h.html#162">AWS_ERROR_MUTEX_CALLER_NOT_OWNER</a>,</div><div id="123" class="line none">  123         "The caller of a mutex operation was not the owner."),</div><div id="124" class="line none">  124     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="125" class="line none">  125         <a href="../include/aws/common/error.h.html#163">AWS_ERROR_MUTEX_FAILED</a>,</div><div id="126" class="line none">  126         "Mutex operation failed."),</div><div id="127" class="line none">  127     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="128" class="line none">  128         <a href="../include/aws/common/error.h.html#164">AWS_ERROR_COND_VARIABLE_INIT_FAILED</a>,</div><div id="129" class="line none">  129         "Condition variable initialization failed."),</div><div id="130" class="line none">  130     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="131" class="line none">  131         <a href="../include/aws/common/error.h.html#165">AWS_ERROR_COND_VARIABLE_TIMED_OUT</a>,</div><div id="132" class="line none">  132         "Condition variable wait timed out."),</div><div id="133" class="line none">  133     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="134" class="line none">  134         <a href="../include/aws/common/error.h.html#166">AWS_ERROR_COND_VARIABLE_ERROR_UNKNOWN</a>,</div><div id="135" class="line none">  135         "Condition variable unknown error."),</div><div id="136" class="line none">  136     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="137" class="line none">  137         <a href="../include/aws/common/error.h.html#167">AWS_ERROR_CLOCK_FAILURE</a>,</div><div id="138" class="line none">  138         "Clock operation failed."),</div><div id="139" class="line none">  139     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="140" class="line none">  140         <a href="../include/aws/common/error.h.html#168">AWS_ERROR_LIST_EMPTY</a>,</div><div id="141" class="line none">  141         "Empty list."),</div><div id="142" class="line none">  142     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="143" class="line none">  143         <a href="../include/aws/common/error.h.html#169">AWS_ERROR_DEST_COPY_TOO_SMALL</a>,</div><div id="144" class="line none">  144         "Destination of copy is too small."),</div><div id="145" class="line none">  145     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="146" class="line none">  146         <a href="../include/aws/common/error.h.html#170">AWS_ERROR_LIST_EXCEEDS_MAX_SIZE</a>,</div><div id="147" class="line none">  147         "A requested operation on a list would exceed it's max size."),</div><div id="148" class="line none">  148     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="149" class="line none">  149         <a href="../include/aws/common/error.h.html#171">AWS_ERROR_LIST_STATIC_MODE_CANT_SHRINK</a>,</div><div id="150" class="line none">  150         "Attempt to shrink a list in static mode."),</div><div id="151" class="line none">  151     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="152" class="line none">  152         <a href="../include/aws/common/error.h.html#172">AWS_ERROR_PRIORITY_QUEUE_FULL</a>,</div><div id="153" class="line none">  153         "Attempt to add items to a full preallocated queue in static mode."),</div><div id="154" class="line none">  154     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="155" class="line none">  155         <a href="../include/aws/common/error.h.html#173">AWS_ERROR_PRIORITY_QUEUE_EMPTY</a>,</div><div id="156" class="line none">  156         "Attempt to pop an item from an empty queue."),</div><div id="157" class="line none">  157     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="158" class="line none">  158         <a href="../include/aws/common/error.h.html#174">AWS_ERROR_PRIORITY_QUEUE_BAD_NODE</a>,</div><div id="159" class="line none">  159         "Bad node handle passed to remove."),</div><div id="160" class="line none">  160     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="161" class="line none">  161         <a href="../include/aws/common/error.h.html#175">AWS_ERROR_HASHTBL_ITEM_NOT_FOUND</a>,</div><div id="162" class="line none">  162         "Item not found in hash table."),</div><div id="163" class="line none">  163     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="164" class="line none">  164         <a href="../include/aws/common/error.h.html#176">AWS_ERROR_INVALID_DATE_STR</a>,</div><div id="165" class="line none">  165         "Date string is invalid and cannot be parsed."</div><div id="166" class="line none">  166     ),</div><div id="167" class="line none">  167     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="168" class="line none">  168         <a href="../include/aws/common/error.h.html#177">AWS_ERROR_INVALID_ARGUMENT</a>,</div><div id="169" class="line none">  169         "An invalid argument was passed to a function."</div><div id="170" class="line none">  170     ),</div><div id="171" class="line none">  171     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="172" class="line none">  172         <a href="../include/aws/common/error.h.html#178">AWS_ERROR_RANDOM_GEN_FAILED</a>,</div><div id="173" class="line none">  173         "A call to the random number generator failed. Retry later."</div><div id="174" class="line none">  174     ),</div><div id="175" class="line none">  175     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="176" class="line none">  176         <a href="../include/aws/common/error.h.html#179">AWS_ERROR_MALFORMED_INPUT_STRING</a>,</div><div id="177" class="line none">  177         "An input string was passed to a parser and the string was incorrectly formatted."</div><div id="178" class="line none">  178     ),</div><div id="179" class="line none">  179     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="180" class="line none">  180         <a href="../include/aws/common/error.h.html#180">AWS_ERROR_UNIMPLEMENTED</a>,</div><div id="181" class="line none">  181         "A function was called, but is not implemented."</div><div id="182" class="line none">  182     ),</div><div id="183" class="line none">  183     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="184" class="line none">  184         <a href="../include/aws/common/error.h.html#181">AWS_ERROR_INVALID_STATE</a>,</div><div id="185" class="line none">  185         "An invalid state was encountered."</div><div id="186" class="line none">  186     ),</div><div id="187" class="line none">  187     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="188" class="line none">  188         <a href="../include/aws/common/error.h.html#182">AWS_ERROR_ENVIRONMENT_GET</a>,</div><div id="189" class="line none">  189         "System call failure when getting an environment variable."</div><div id="190" class="line none">  190     ),</div><div id="191" class="line none">  191     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="192" class="line none">  192         <a href="../include/aws/common/error.h.html#183">AWS_ERROR_ENVIRONMENT_SET</a>,</div><div id="193" class="line none">  193         "System call failure when setting an environment variable."</div><div id="194" class="line none">  194     ),</div><div id="195" class="line none">  195     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="196" class="line none">  196         <a href="../include/aws/common/error.h.html#184">AWS_ERROR_ENVIRONMENT_UNSET</a>,</div><div id="197" class="line none">  197         "System call failure when unsetting an environment variable."</div><div id="198" class="line none">  198     ),</div><div id="199" class="line none">  199     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="200" class="line none">  200         <a href="../include/aws/common/error.h.html#189">AWS_ERROR_SYS_CALL_FAILURE</a>,</div><div id="201" class="line none">  201         "System call failure"),</div><div id="202" class="line none">  202     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="203" class="line none">  203         <a href="../include/aws/common/error.h.html#187">AWS_ERROR_FILE_INVALID_PATH</a>,</div><div id="204" class="line none">  204         "Invalid file path."),</div><div id="205" class="line none">  205     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="206" class="line none">  206         <a href="../include/aws/common/error.h.html#188">AWS_ERROR_MAX_FDS_EXCEEDED</a>,</div><div id="207" class="line none">  207         "The maximum number of fds has been exceeded."),</div><div id="208" class="line none">  208     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="209" class="line none">  209         <a href="../include/aws/common/error.h.html#186">AWS_ERROR_NO_PERMISSION</a>,</div><div id="210" class="line none">  210         "User does not have permission to perform the requested action."),</div><div id="211" class="line none">  211     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="212" class="line none">  212         <a href="../include/aws/common/error.h.html#185">AWS_ERROR_STREAM_UNSEEKABLE</a>,</div><div id="213" class="line none">  213         "Stream does not support seek operations"),</div><div id="214" class="line none">  214     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="215" class="line none">  215         <a href="../include/aws/common/error.h.html#190">AWS_ERROR_C_STRING_BUFFER_NOT_NULL_TERMINATED</a>,</div><div id="216" class="line none">  216         "A c-string like buffer was passed but a null terminator was not found within the bounds of the buffer."),</div><div id="217" class="line none">  217     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="218" class="line none">  218         <a href="../include/aws/common/error.h.html#191">AWS_ERROR_STRING_MATCH_NOT_FOUND</a>,</div><div id="219" class="line none">  219       "The specified substring was not present in the input string."),</div><div id="220" class="line none">  220     <a href="common.c.html#64">AWS_DEFINE_ERROR_INFO_COMMON</a>(</div><div id="221" class="line none">  221         <a href="../include/aws/common/error.h.html#192">AWS_ERROR_DIVIDE_BY_ZERO</a>,</div><div id="222" class="line none">  222         "Attempt to divide a number by zero."),</div><div id="223" class="line none">  223 };</div><div id="224" class="line none">  224 /* clang-format on */</div><div id="225" class="line none">  225 </div><div id="226" class="line none">  226 static struct <a href="../include/aws/common/error.h.html#32">aws_error_info_list</a> <a href="common.c.html#226">s_list</a> = {</div><div id="227" class="line none">  227     .<a href="../include/aws/common/error.h.html#33">error_list</a> = <a href="common.c.html#66">errors</a>,</div><div id="228" class="line none">  228     .<a href="../include/aws/common/error.h.html#34">count</a> = AWS_ARRAY_SIZE(<a href="common.c.html#66">errors</a>),</div><div id="229" class="line none">  229 };</div><div id="230" class="line none">  230 </div><div id="231" class="line none">  231 static struct <a href="../include/aws/common/logging.h.html#63">aws_log_subject_info</a> <a href="common.c.html#231">s_common_log_subject_infos</a>[] = {</div><div id="232" class="line none">  232     <a href="../include/aws/common/logging.h.html#69">DEFINE_LOG_SUBJECT_INFO</a>(</div><div id="233" class="line none">  233         <a href="../include/aws/common/logging.h.html#78">AWS_LS_COMMON_GENERAL</a>,</div><div id="234" class="line none">  234         "aws-c-common",</div><div id="235" class="line none">  235         "Subject for aws-c-common logging that doesn't belong to any particular category"),</div><div id="236" class="line none">  236     <a href="../include/aws/common/logging.h.html#69">DEFINE_LOG_SUBJECT_INFO</a>(</div><div id="237" class="line none">  237         <a href="../include/aws/common/logging.h.html#79">AWS_LS_COMMON_TASK_SCHEDULER</a>,</div><div id="238" class="line none">  238         "task-scheduler",</div><div id="239" class="line none">  239         "Subject for task scheduler or task specific logging."),</div><div id="240" class="line none">  240     <a href="../include/aws/common/logging.h.html#69">DEFINE_LOG_SUBJECT_INFO</a>(<a href="../include/aws/common/logging.h.html#81">AWS_LS_COMMON_XML_PARSER</a>, "xml-parser", "Subject for xml parser specific logging."),</div><div id="241" class="line none">  241     <a href="../include/aws/common/logging.h.html#69">DEFINE_LOG_SUBJECT_INFO</a>(<a href="../include/aws/common/logging.h.html#80">AWS_LS_COMMON_MEMTRACE</a>, "memtrace", "Output from the aws_mem_trace_dump function"),</div><div id="242" class="line none">  242 };</div><div id="243" class="line none">  243 </div><div id="244" class="line none">  244 static struct <a href="../include/aws/common/logging.h.html#72">aws_log_subject_info_list</a> <a href="common.c.html#244">s_common_log_subject_list</a> = {</div><div id="245" class="line none">  245     .<a href="../include/aws/common/logging.h.html#73">subject_list</a> = <a href="common.c.html#231">s_common_log_subject_infos</a>,</div><div id="246" class="line none">  246     .<a href="../include/aws/common/error.h.html#34">count</a> = AWS_ARRAY_SIZE(<a href="common.c.html#231">s_common_log_subject_infos</a>),</div><div id="247" class="line none">  247 };</div><div id="248" class="line none">  248 </div><div id="249" class="line none">  249 static bool <a href="common.c.html#249">s_common_library_initialized</a> = false;</div><div id="250" class="line none">  250 </div><div id="251" class="line none">  251 void <a href="common.c.html#251">aws_common_library_init</a>(struct <a href="../include/aws/common/allocator.h.html#15">aws_allocator</a> *<a href="../include/aws/common/ring_buffer.h.html#19">allocator</a>) {</div><div id="252" class="line none">  252     (void)<a href="../include/aws/common/ring_buffer.h.html#19">allocator</a>;</div><div id="253" class="line none">  253 </div><div id="254" class="line none">  254     if (!<a href="common.c.html#249">s_common_library_initialized</a>) {</div><div id="255" class="line none">  255         <a href="common.c.html#249">s_common_library_initialized</a> = true;</div><div id="256" class="line none">  256         <a href="error.c.html#127">aws_register_error_info</a>(&amp;<a href="common.c.html#226">s_list</a>);</div><div id="257" class="line none">  257         <a href="../include/aws/common/logging.h.html#262">aws_register_log_subject_info_list</a>(&amp;<a href="common.c.html#244">s_common_log_subject_list</a>);</div><div id="258" class="line none">  258     }</div><div id="259" class="line none">  259 }</div><div id="260" class="line none">  260 </div><div id="261" class="line none">  261 void <a href="common.c.html#261">aws_common_library_clean_up</a>(void) {</div><div id="262" class="line none">  262     if (<a href="common.c.html#249">s_common_library_initialized</a>) {</div><div id="263" class="line none">  263         <a href="common.c.html#249">s_common_library_initialized</a> = false;</div><div id="264" class="line none">  264         <a href="error.c.html#166">aws_unregister_error_info</a>(&amp;<a href="common.c.html#226">s_list</a>);</div><div id="265" class="line none">  265         <a href="../include/aws/common/logging.h.html#268">aws_unregister_log_subject_info_list</a>(&amp;<a href="common.c.html#244">s_common_log_subject_list</a>);</div><div id="266" class="line none">  266     }</div><div id="267" class="line none">  267 }</div><div id="268" class="line none">  268 </div><div id="269" class="line none">  269 void <a href="common.c.html#269">aws_common_fatal_assert_library_initialized</a>(void) {</div><div id="270" class="line none">  270     if (!<a href="common.c.html#249">s_common_library_initialized</a>) {</div><div id="271" class="line none">  271         fprintf(</div><div id="272" class="line none">  272             stderr, "%s", "aws_common_library_init() must be called before using any functionality in aws-c-common.");</div><div id="273" class="line none">  273 </div><div id="274" class="line none">  274         AWS_FATAL_ASSERT(<a href="common.c.html#249">s_common_library_initialized</a>);</div><div id="275" class="line none">  275     }</div><div id="276" class="line none">  276 }</div><div id="277" class="line none">  277 </div><div id="278" class="line none">  278 #ifdef _MSC_VER</div><div id="279" class="line none">  279 #    pragma warning(pop)</div><div id="280" class="line none">  280 #endif</div>
</div>
</body>
</html>
