
<html>
<head>
<title>verification/cbmc/aws-c-common/include/aws/common/linked_list.h</title>
<link rel="stylesheet" type="text/css" href="../../../../../../viewer.css">
</head>

<body>
<div class="code">
<div id="1" class="line none">    1 #ifndef <a href="linked_list.h.html#2">AWS_COMMON_LINKED_LIST_H</a></div><div id="2" class="line none">    2 #define <a href="linked_list.h.html#2">AWS_COMMON_LINKED_LIST_H</a></div><div id="3" class="line none">    3 </div><div id="4" class="line none">    4 /**</div><div id="5" class="line none">    5  * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.</div><div id="6" class="line none">    6  * SPDX-License-Identifier: Apache-2.0.</div><div id="7" class="line none">    7  */</div><div id="8" class="line none">    8 </div><div id="9" class="line none">    9 #include &lt;aws/common/common.h&gt;</div><div id="10" class="line none">   10 </div><div id="11" class="line none">   11 #include &lt;stddef.h&gt;</div><div id="12" class="line none">   12 </div><div id="13" class="line none">   13 struct <a href="linked_list.h.html#13">aws_linked_list_node</a> {</div><div id="14" class="line none">   14     struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *<a href="linked_list.h.html#14">next</a>;</div><div id="15" class="line none">   15     struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *<a href="linked_list.h.html#15">prev</a>;</div><div id="16" class="line none">   16 };</div><div id="17" class="line none">   17 </div><div id="18" class="line none">   18 struct <a href="linked_list.h.html#18">aws_linked_list</a> {</div><div id="19" class="line none">   19     struct <a href="linked_list.h.html#13">aws_linked_list_node</a> <a href="linked_list.h.html#19">head</a>;</div><div id="20" class="line none">   20     struct <a href="linked_list.h.html#13">aws_linked_list_node</a> <a href="linked_list.h.html#20">tail</a>;</div><div id="21" class="line none">   21 };</div><div id="22" class="line none">   22 </div><div id="23" class="line none">   23 AWS_EXTERN_C_BEGIN</div><div id="24" class="line none">   24 </div><div id="25" class="line none">   25 /**</div><div id="26" class="line none">   26  * Set node's next and prev pointers to NULL.</div><div id="27" class="line none">   27  */</div><div id="28" class="line none">   28 AWS_STATIC_IMPL void <a href="linked_list.inl.html#18">aws_linked_list_node_reset</a>(struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *node);</div><div id="29" class="line none">   29 </div><div id="30" class="line none">   30 /**</div><div id="31" class="line none">   31  * These functions need to be defined first as they are used in pre</div><div id="32" class="line none">   32  * and post conditions.</div><div id="33" class="line none">   33  */</div><div id="34" class="line none">   34 </div><div id="35" class="line none">   35 /**</div><div id="36" class="line none">   36  * Tests if the list is empty.</div><div id="37" class="line none">   37  */</div><div id="38" class="line none">   38 AWS_STATIC_IMPL bool <a href="linked_list.inl.html#32">aws_linked_list_empty</a>(const struct <a href="linked_list.h.html#18">aws_linked_list</a> *list);</div><div id="39" class="line none">   39 </div><div id="40" class="line none">   40 /**</div><div id="41" class="line none">   41  * Checks that a linked list is valid.</div><div id="42" class="line none">   42  */</div><div id="43" class="line none">   43 AWS_STATIC_IMPL bool <a href="linked_list.inl.html#40">aws_linked_list_is_valid</a>(const struct <a href="linked_list.h.html#18">aws_linked_list</a> *list);</div><div id="44" class="line none">   44 /**</div><div id="45" class="line none">   45  * Checks that the prev of the next pointer of a node points to the</div><div id="46" class="line none">   46  * node. As this checks whether the [next] connection of a node is</div><div id="47" class="line none">   47  * bidirectional, it returns false if used for the list tail.</div><div id="48" class="line none">   48  */</div><div id="49" class="line none">   49 AWS_STATIC_IMPL bool <a href="linked_list.inl.html#56">aws_linked_list_node_next_is_valid</a>(const struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *node);</div><div id="50" class="line none">   50 </div><div id="51" class="line none">   51 /**</div><div id="52" class="line none">   52  * Checks that the next of the prev pointer of a node points to the</div><div id="53" class="line none">   53  * node. Similarly to the above, this returns false if used for the</div><div id="54" class="line none">   54  * head of a list.</div><div id="55" class="line none">   55  */</div><div id="56" class="line none">   56 AWS_STATIC_IMPL bool <a href="linked_list.inl.html#65">aws_linked_list_node_prev_is_valid</a>(const struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *node);</div><div id="57" class="line none">   57 /**</div><div id="58" class="line none">   58  * Checks that a linked list satisfies double linked list connectivity</div><div id="59" class="line none">   59  * constraints. This check is O(n) as it traverses the whole linked</div><div id="60" class="line none">   60  * list to ensure that tail is reachable from head (and vice versa)</div><div id="61" class="line none">   61  * and that every connection is bidirectional.</div><div id="62" class="line none">   62  *</div><div id="63" class="line none">   63  * Note: This check *cannot* go into an infinite loop, because we</div><div id="64" class="line none">   64  * ensure that the connection to the next node is</div><div id="65" class="line none">   65  * bidirectional. Therefore, if a node's [a] a.next is a previous node</div><div id="66" class="line none">   66  * [b] in the list, b.prev != &amp;a and so this check would fail, thus</div><div id="67" class="line none">   67  * terminating the loop.</div><div id="68" class="line none">   68  */</div><div id="69" class="line none">   69 AWS_STATIC_IMPL bool <a href="linked_list.inl.html#81">aws_linked_list_is_valid_deep</a>(const struct <a href="linked_list.h.html#18">aws_linked_list</a> *list);</div><div id="70" class="line none">   70 </div><div id="71" class="line none">   71 /**</div><div id="72" class="line none">   72  * Initializes the list. List will be empty after this call.</div><div id="73" class="line none">   73  */</div><div id="74" class="line none">   74 AWS_STATIC_IMPL void <a href="linked_list.inl.html#108">aws_linked_list_init</a>(struct <a href="linked_list.h.html#18">aws_linked_list</a> *list);</div><div id="75" class="line none">   75 </div><div id="76" class="line none">   76 /**</div><div id="77" class="line none">   77  * Returns an iteration pointer for the first element in the list.</div><div id="78" class="line none">   78  */</div><div id="79" class="line none">   79 AWS_STATIC_IMPL struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *<a href="linked_list.inl.html#121">aws_linked_list_begin</a>(const struct <a href="linked_list.h.html#18">aws_linked_list</a> *list);</div><div id="80" class="line none">   80 </div><div id="81" class="line none">   81 /**</div><div id="82" class="line none">   82  * Returns an iteration pointer for one past the last element in the list.</div><div id="83" class="line none">   83  */</div><div id="84" class="line none">   84 AWS_STATIC_IMPL const struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *<a href="linked_list.inl.html#132">aws_linked_list_end</a>(const struct <a href="linked_list.h.html#18">aws_linked_list</a> *list);</div><div id="85" class="line none">   85 </div><div id="86" class="line none">   86 /**</div><div id="87" class="line none">   87  * Returns a pointer for the last element in the list.</div><div id="88" class="line none">   88  * Used to begin iterating the list in reverse. Ex:</div><div id="89" class="line none">   89  *   for (i = aws_linked_list_rbegin(list); i != aws_linked_list_rend(list); i = aws_linked_list_prev(i)) {...}</div><div id="90" class="line none">   90  */</div><div id="91" class="line none">   91 AWS_STATIC_IMPL struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *<a href="linked_list.inl.html#145">aws_linked_list_rbegin</a>(const struct <a href="linked_list.h.html#18">aws_linked_list</a> *list);</div><div id="92" class="line none">   92 </div><div id="93" class="line none">   93 /**</div><div id="94" class="line none">   94  * Returns the pointer to one before the first element in the list.</div><div id="95" class="line none">   95  * Used to end iterating the list in reverse.</div><div id="96" class="line none">   96  */</div><div id="97" class="line none">   97 AWS_STATIC_IMPL const struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *<a href="linked_list.inl.html#157">aws_linked_list_rend</a>(const struct <a href="linked_list.h.html#18">aws_linked_list</a> *list);</div><div id="98" class="line none">   98 </div><div id="99" class="line none">   99 /**</div><div id="100" class="line none">  100  * Returns the next element in the list.</div><div id="101" class="line none">  101  */</div><div id="102" class="line none">  102 AWS_STATIC_IMPL struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *<a href="linked_list.inl.html#168">aws_linked_list_next</a>(const struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *node);</div><div id="103" class="line none">  103 </div><div id="104" class="line none">  104 /**</div><div id="105" class="line none">  105  * Returns the previous element in the list.</div><div id="106" class="line none">  106  */</div><div id="107" class="line none">  107 AWS_STATIC_IMPL struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *<a href="linked_list.inl.html#180">aws_linked_list_prev</a>(const struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *node);</div><div id="108" class="line none">  108 </div><div id="109" class="line none">  109 /**</div><div id="110" class="line none">  110  * Inserts to_add immediately after after.</div><div id="111" class="line none">  111  */</div><div id="112" class="line none">  112 AWS_STATIC_IMPL void <a href="linked_list.inl.html#192">aws_linked_list_insert_after</a>(</div><div id="113" class="line none">  113     struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *after,</div><div id="114" class="line none">  114     struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *to_add);</div><div id="115" class="line none">  115 /**</div><div id="116" class="line none">  116  * Swaps the order two nodes in the linked list.</div><div id="117" class="line none">  117  */</div><div id="118" class="line none">  118 AWS_STATIC_IMPL void <a href="linked_list.inl.html#210">aws_linked_list_swap_nodes</a>(struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *a, struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *b);</div><div id="119" class="line none">  119 </div><div id="120" class="line none">  120 /**</div><div id="121" class="line none">  121  * Inserts to_add immediately before before.</div><div id="122" class="line none">  122  */</div><div id="123" class="line none">  123 AWS_STATIC_IMPL void <a href="linked_list.inl.html#241">aws_linked_list_insert_before</a>(</div><div id="124" class="line none">  124     struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *before,</div><div id="125" class="line none">  125     struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *to_add);</div><div id="126" class="line none">  126 </div><div id="127" class="line none">  127 /**</div><div id="128" class="line none">  128  * Removes the specified node from the list (prev/next point to each other) and</div><div id="129" class="line none">  129  * returns the next node in the list.</div><div id="130" class="line none">  130  */</div><div id="131" class="line none">  131 AWS_STATIC_IMPL void <a href="linked_list.inl.html#260">aws_linked_list_remove</a>(struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *node);</div><div id="132" class="line none">  132 </div><div id="133" class="line none">  133 /**</div><div id="134" class="line none">  134  * Append new_node.</div><div id="135" class="line none">  135  */</div><div id="136" class="line none">  136 AWS_STATIC_IMPL void <a href="linked_list.inl.html#272">aws_linked_list_push_back</a>(struct <a href="linked_list.h.html#18">aws_linked_list</a> *list, struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *node);</div><div id="137" class="line none">  137 </div><div id="138" class="line none">  138 /**</div><div id="139" class="line none">  139  * Returns the element in the back of the list.</div><div id="140" class="line none">  140  */</div><div id="141" class="line none">  141 AWS_STATIC_IMPL struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *<a href="linked_list.inl.html#283">aws_linked_list_back</a>(const struct <a href="linked_list.h.html#18">aws_linked_list</a> *list);</div><div id="142" class="line none">  142 </div><div id="143" class="line none">  143 /**</div><div id="144" class="line none">  144  * Returns the element in the back of the list and removes it</div><div id="145" class="line none">  145  */</div><div id="146" class="line none">  146 AWS_STATIC_IMPL struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *<a href="linked_list.inl.html#296">aws_linked_list_pop_back</a>(struct <a href="linked_list.h.html#18">aws_linked_list</a> *list);</div><div id="147" class="line none">  147 </div><div id="148" class="line none">  148 /**</div><div id="149" class="line none">  149  * Prepend new_node.</div><div id="150" class="line none">  150  */</div><div id="151" class="line none">  151 AWS_STATIC_IMPL void <a href="linked_list.inl.html#309">aws_linked_list_push_front</a>(struct <a href="linked_list.h.html#18">aws_linked_list</a> *list, struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *node);</div><div id="152" class="line none">  152 /**</div><div id="153" class="line none">  153  * Returns the element in the front of the list.</div><div id="154" class="line none">  154  */</div><div id="155" class="line none">  155 AWS_STATIC_IMPL struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *<a href="linked_list.inl.html#320">aws_linked_list_front</a>(const struct <a href="linked_list.h.html#18">aws_linked_list</a> *list);</div><div id="156" class="line none">  156 /**</div><div id="157" class="line none">  157  * Returns the element in the front of the list and removes it</div><div id="158" class="line none">  158  */</div><div id="159" class="line none">  159 AWS_STATIC_IMPL struct <a href="linked_list.h.html#13">aws_linked_list_node</a> *<a href="linked_list.inl.html#333">aws_linked_list_pop_front</a>(struct <a href="linked_list.h.html#18">aws_linked_list</a> *list);</div><div id="160" class="line none">  160 </div><div id="161" class="line none">  161 AWS_STATIC_IMPL void <a href="linked_list.inl.html#343">aws_linked_list_swap_contents</a>(</div><div id="162" class="line none">  162     struct <a href="linked_list.h.html#18">aws_linked_list</a> *AWS_RESTRICT a,</div><div id="163" class="line none">  163     struct <a href="linked_list.h.html#18">aws_linked_list</a> *AWS_RESTRICT b);</div><div id="164" class="line none">  164 </div><div id="165" class="line none">  165 /**</div><div id="166" class="line none">  166  * Remove all nodes from one list, and add them to the back of another.</div><div id="167" class="line none">  167  *</div><div id="168" class="line none">  168  * Example: if dst={1,2} and src={3,4}, they become dst={1,2,3,4} and src={}</div><div id="169" class="line none">  169  */</div><div id="170" class="line none">  170 AWS_STATIC_IMPL void <a href="linked_list.inl.html#376">aws_linked_list_move_all_back</a>(</div><div id="171" class="line none">  171     struct <a href="linked_list.h.html#18">aws_linked_list</a> *AWS_RESTRICT dst,</div><div id="172" class="line none">  172     struct <a href="linked_list.h.html#18">aws_linked_list</a> *AWS_RESTRICT src);</div><div id="173" class="line none">  173 </div><div id="174" class="line none">  174 /**</div><div id="175" class="line none">  175  * Remove all nodes from one list, and add them to the front of another.</div><div id="176" class="line none">  176  *</div><div id="177" class="line none">  177  * Example: if dst={2,1} and src={4,3}, they become dst={4,3,2,1} and src={}</div><div id="178" class="line none">  178  */</div><div id="179" class="line none">  179 AWS_STATIC_IMPL void <a href="linked_list.inl.html#405">aws_linked_list_move_all_front</a>(</div><div id="180" class="line none">  180     struct <a href="linked_list.h.html#18">aws_linked_list</a> *AWS_RESTRICT dst,</div><div id="181" class="line none">  181     struct <a href="linked_list.h.html#18">aws_linked_list</a> *AWS_RESTRICT src);</div><div id="182" class="line none">  182 </div><div id="183" class="line none">  183 #ifndef AWS_NO_STATIC_IMPL</div><div id="184" class="line none">  184 #    include &lt;aws/common/linked_list.inl&gt;</div><div id="185" class="line none">  185 #endif /* AWS_NO_STATIC_IMPL */</div><div id="186" class="line none">  186 AWS_EXTERN_C_END</div><div id="187" class="line none">  187 </div><div id="188" class="line none">  188 #endif /* AWS_COMMON_LINKED_LIST_H */</div>
</div>
</body>
</html>
