
<html>
<head>
<title>verification/cbmc/aws-c-common/include/aws/common/error.h</title>
<link rel="stylesheet" type="text/css" href="../../../../../../viewer.css">
</head>

<body>
<div class="code">
<div id="1" class="line none">    1 #ifndef <a href="error.h.html#2">AWS_COMMON_ERROR_H</a></div><div id="2" class="line none">    2 #define <a href="error.h.html#2">AWS_COMMON_ERROR_H</a></div><div id="3" class="line none">    3 </div><div id="4" class="line none">    4 /**</div><div id="5" class="line none">    5  * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.</div><div id="6" class="line none">    6  * SPDX-License-Identifier: Apache-2.0.</div><div id="7" class="line none">    7  */</div><div id="8" class="line none">    8 </div><div id="9" class="line none">    9 #include &lt;aws/common/assert.h&gt;</div><div id="10" class="line none">   10 #include &lt;aws/common/exports.h&gt;</div><div id="11" class="line none">   11 #include &lt;aws/common/macros.h&gt;</div><div id="12" class="line none">   12 #include &lt;aws/common/package.h&gt;</div><div id="13" class="line none">   13 #include &lt;aws/common/stdint.h&gt;</div><div id="14" class="line none">   14 </div><div id="15" class="line none">   15 #define <a href="error.h.html#15">AWS_OP_SUCCESS</a> (0)</div><div id="16" class="line none">   16 #define <a href="error.h.html#16">AWS_OP_ERR</a> (-1)</div><div id="17" class="line none">   17 </div><div id="18" class="line none">   18 /* Each library gets space for 2^^10 error entries */</div><div id="19" class="line none">   19 #define <a href="error.h.html#19">AWS_ERROR_ENUM_STRIDE_BITS</a> 10</div><div id="20" class="line none">   20 #define <a href="error.h.html#20">AWS_ERROR_ENUM_STRIDE</a> (1U &lt;&lt; <a href="error.h.html#19">AWS_ERROR_ENUM_STRIDE_BITS</a>)</div><div id="21" class="line none">   21 #define <a href="error.h.html#21">AWS_ERROR_ENUM_BEGIN_RANGE</a>(x) ((x)*<a href="error.h.html#20">AWS_ERROR_ENUM_STRIDE</a>)</div><div id="22" class="line none">   22 #define <a href="error.h.html#22">AWS_ERROR_ENUM_END_RANGE</a>(x) (((x) + 1) * <a href="error.h.html#20">AWS_ERROR_ENUM_STRIDE</a> - 1)</div><div id="23" class="line none">   23 </div><div id="24" class="line none">   24 struct <a href="error.h.html#24">aws_error_info</a> {</div><div id="25" class="line none">   25     int <a href="error.h.html#25">error_code</a>;</div><div id="26" class="line none">   26     const char *<a href="error.h.html#26">literal_name</a>;</div><div id="27" class="line none">   27     const char *<a href="error.h.html#27">error_str</a>;</div><div id="28" class="line none">   28     const char *<a href="error.h.html#28">lib_name</a>;</div><div id="29" class="line none">   29     const char *<a href="error.h.html#29">formatted_name</a>;</div><div id="30" class="line none">   30 };</div><div id="31" class="line none">   31 </div><div id="32" class="line none">   32 struct <a href="error.h.html#32">aws_error_info_list</a> {</div><div id="33" class="line none">   33     const struct <a href="error.h.html#24">aws_error_info</a> *<a href="error.h.html#33">error_list</a>;</div><div id="34" class="line none">   34     uint16_t <a href="error.h.html#34">count</a>;</div><div id="35" class="line none">   35 };</div><div id="36" class="line none">   36 </div><div id="37" class="line none">   37 #define <a href="error.h.html#37">AWS_DEFINE_ERROR_INFO</a>(C, ES, LN)                                                                               \</div><div id="38" class="line none">   38     {                                                                                                                  \</div><div id="39" class="line none">   39         .<a href="error.h.html#26">literal_name</a> = #C, .<a href="error.h.html#25">error_code</a> = (C), .<a href="error.h.html#27">error_str</a> = (ES), .<a href="error.h.html#28">lib_name</a> = (LN),                                    \</div><div id="40" class="line none">   40         .<a href="error.h.html#29">formatted_name</a> = LN ": " #C ", " ES,                                                                          \</div><div id="41" class="line none">   41     }</div><div id="42" class="line none">   42 </div><div id="43" class="line none">   43 typedef void(<a href="error.h.html#43">aws_error_handler_fn</a>)(int err, void *<a href="../../../../../../source/cipher_openssl.c.html#78">ctx</a>);</div><div id="44" class="line none">   44 </div><div id="45" class="line none">   45 AWS_EXTERN_C_BEGIN</div><div id="46" class="line none">   46 </div><div id="47" class="line none">   47 /*</div><div id="48" class="line none">   48  * Returns the latest error code on the current thread, or 0 if none have</div><div id="49" class="line none">   49  * occurred.</div><div id="50" class="line none">   50  */</div><div id="51" class="line none">   51 AWS_COMMON_API</div><div id="52" class="line none">   52 int <a href="../../../source/error.c.html#32">aws_last_error</a>(void);</div><div id="53" class="line none">   53 </div><div id="54" class="line none">   54 /*</div><div id="55" class="line none">   55  * Returns the error str corresponding to `err`.</div><div id="56" class="line none">   56  */</div><div id="57" class="line none">   57 AWS_COMMON_API</div><div id="58" class="line none">   58 const char *<a href="../../../source/error.c.html#53">aws_error_str</a>(int err);</div><div id="59" class="line none">   59 </div><div id="60" class="line none">   60 /*</div><div id="61" class="line none">   61  * Returns the enum name corresponding to `err`.</div><div id="62" class="line none">   62  */</div><div id="63" class="line none">   63 AWS_COMMON_API</div><div id="64" class="line none">   64 const char *<a href="../../../source/error.c.html#63">aws_error_name</a>(int err);</div><div id="65" class="line none">   65 </div><div id="66" class="line none">   66 /*</div><div id="67" class="line none">   67  * Returns the error lib name corresponding to `err`.</div><div id="68" class="line none">   68  */</div><div id="69" class="line none">   69 AWS_COMMON_API</div><div id="70" class="line none">   70 const char *<a href="../../../source/error.c.html#73">aws_error_lib_name</a>(int err);</div><div id="71" class="line none">   71 </div><div id="72" class="line none">   72 /*</div><div id="73" class="line none">   73  * Returns libname concatenated with error string.</div><div id="74" class="line none">   74  */</div><div id="75" class="line none">   75 AWS_COMMON_API</div><div id="76" class="line none">   76 const char *<a href="../../../source/error.c.html#83">aws_error_debug_str</a>(int err);</div><div id="77" class="line none">   77 </div><div id="78" class="line none">   78 /*</div><div id="79" class="line none">   79  * Internal implementation detail.</div><div id="80" class="line none">   80  */</div><div id="81" class="line none">   81 AWS_COMMON_API</div><div id="82" class="line none">   82 void <a href="../../../source/error.c.html#93">aws_raise_error_private</a>(int err);</div><div id="83" class="line none">   83 </div><div id="84" class="line none">   84 /*</div><div id="85" class="line none">   85  * Raises `err` to the installed callbacks, and sets the thread's error.</div><div id="86" class="line none">   86  */</div><div id="87" class="line none">   87 AWS_STATIC_IMPL</div><div id="88" class="line none">   88 int <a href="error.inl.html#17">aws_raise_error</a>(int err);</div><div id="89" class="line none">   89 </div><div id="90" class="line none">   90 /*</div><div id="91" class="line none">   91  * Resets the `err` back to defaults</div><div id="92" class="line none">   92  */</div><div id="93" class="line none">   93 AWS_COMMON_API</div><div id="94" class="line none">   94 void <a href="../../../source/error.c.html#103">aws_reset_error</a>(void);</div><div id="95" class="line none">   95 /*</div><div id="96" class="line none">   96  * Sets `err` to the latest error. Does not invoke callbacks.</div><div id="97" class="line none">   97  */</div><div id="98" class="line none">   98 AWS_COMMON_API</div><div id="99" class="line none">   99 void <a href="../../../source/error.c.html#107">aws_restore_error</a>(int err);</div><div id="100" class="line none">  100 </div><div id="101" class="line none">  101 /*</div><div id="102" class="line none">  102  * Sets an application wide error handler function. This will be overridden by</div><div id="103" class="line none">  103  * the thread local handler. The previous handler is returned, this can be used</div><div id="104" class="line none">  104  * for restoring an error handler if it needs to be overridden temporarily.</div><div id="105" class="line none">  105  * Setting this to NULL will turn off this error callback after it has been</div><div id="106" class="line none">  106  * enabled.</div><div id="107" class="line none">  107  */</div><div id="108" class="line none">  108 AWS_COMMON_API</div><div id="109" class="line none">  109 <a href="error.h.html#43">aws_error_handler_fn</a> *<a href="../../../source/error.c.html#111">aws_set_global_error_handler_fn</a>(<a href="error.h.html#43">aws_error_handler_fn</a> *handler, void *<a href="../../../../../../source/cipher_openssl.c.html#78">ctx</a>);</div><div id="110" class="line none">  110 </div><div id="111" class="line none">  111 /*</div><div id="112" class="line none">  112  * Sets a thread-local error handler function. This will override the global</div><div id="113" class="line none">  113  * handler. The previous handler is returned, this can be used for restoring an</div><div id="114" class="line none">  114  * error handler if it needs to be overridden temporarily. Setting this to NULL</div><div id="115" class="line none">  115  * will turn off this error callback after it has been enabled.</div><div id="116" class="line none">  116  */</div><div id="117" class="line none">  117 AWS_COMMON_API</div><div id="118" class="line none">  118 <a href="error.h.html#43">aws_error_handler_fn</a> *<a href="../../../source/error.c.html#119">aws_set_thread_local_error_handler_fn</a>(<a href="error.h.html#43">aws_error_handler_fn</a> *handler, void *<a href="../../../../../../source/cipher_openssl.c.html#78">ctx</a>);</div><div id="119" class="line none">  119 </div><div id="120" class="line none">  120 /** TODO: this needs to be a private function (wait till we have the cmake story</div><div id="121" class="line none">  121  * better before moving it though). It should be external for the purpose of</div><div id="122" class="line none">  122  * other libs we own, but customers should not be able to hit it without going</div><div id="123" class="line none">  123  * out of their way to do so.</div><div id="124" class="line none">  124  */</div><div id="125" class="line none">  125 AWS_COMMON_API</div><div id="126" class="line none">  126 void <a href="../../../source/error.c.html#127">aws_register_error_info</a>(const struct <a href="error.h.html#32">aws_error_info_list</a> *error_info);</div><div id="127" class="line none">  127 </div><div id="128" class="line none">  128 AWS_COMMON_API</div><div id="129" class="line none">  129 void <a href="../../../source/error.c.html#166">aws_unregister_error_info</a>(const struct <a href="error.h.html#32">aws_error_info_list</a> *error_info);</div><div id="130" class="line none">  130 </div><div id="131" class="line none">  131 /**</div><div id="132" class="line none">  132  * Convert a c library io error into an aws error.</div><div id="133" class="line none">  133  */</div><div id="134" class="line none">  134 AWS_COMMON_API</div><div id="135" class="line none">  135 int <a href="../../../source/error.c.html#184">aws_translate_and_raise_io_error</a>(int error_no);</div><div id="136" class="line none">  136 </div><div id="137" class="line none">  137 #ifndef AWS_NO_STATIC_IMPL</div><div id="138" class="line none">  138 #    include &lt;aws/common/error.inl&gt;</div><div id="139" class="line none">  139 #endif /* AWS_NO_STATIC_IMPL */</div><div id="140" class="line none">  140 </div><div id="141" class="line none">  141 AWS_EXTERN_C_END</div><div id="142" class="line none">  142 </div><div id="143" class="line none">  143 enum <a href="error.h.html#143">aws_common_error</a> {</div><div id="144" class="line none">  144     <a href="error.h.html#144">AWS_ERROR_SUCCESS</a> = <a href="error.h.html#21">AWS_ERROR_ENUM_BEGIN_RANGE</a>(AWS_C_COMMON_PACKAGE_ID),</div><div id="145" class="line none">  145     <a href="error.h.html#145">AWS_ERROR_OOM</a>,</div><div id="146" class="line none">  146     <a href="error.h.html#146">AWS_ERROR_UNKNOWN</a>,</div><div id="147" class="line none">  147     <a href="error.h.html#147">AWS_ERROR_SHORT_BUFFER</a>,</div><div id="148" class="line none">  148     <a href="error.h.html#148">AWS_ERROR_OVERFLOW_DETECTED</a>,</div><div id="149" class="line none">  149     <a href="error.h.html#149">AWS_ERROR_UNSUPPORTED_OPERATION</a>,</div><div id="150" class="line none">  150     <a href="error.h.html#150">AWS_ERROR_INVALID_BUFFER_SIZE</a>,</div><div id="151" class="line none">  151     <a href="error.h.html#151">AWS_ERROR_INVALID_HEX_STR</a>,</div><div id="152" class="line none">  152     <a href="error.h.html#152">AWS_ERROR_INVALID_BASE64_STR</a>,</div><div id="153" class="line none">  153     <a href="error.h.html#153">AWS_ERROR_INVALID_INDEX</a>,</div><div id="154" class="line none">  154     <a href="error.h.html#154">AWS_ERROR_THREAD_INVALID_SETTINGS</a>,</div><div id="155" class="line none">  155     <a href="error.h.html#155">AWS_ERROR_THREAD_INSUFFICIENT_RESOURCE</a>,</div><div id="156" class="line none">  156     <a href="error.h.html#156">AWS_ERROR_THREAD_NO_PERMISSIONS</a>,</div><div id="157" class="line none">  157     <a href="error.h.html#157">AWS_ERROR_THREAD_NOT_JOINABLE</a>,</div><div id="158" class="line none">  158     <a href="error.h.html#158">AWS_ERROR_THREAD_NO_SUCH_THREAD_ID</a>,</div><div id="159" class="line none">  159     <a href="error.h.html#159">AWS_ERROR_THREAD_DEADLOCK_DETECTED</a>,</div><div id="160" class="line none">  160     <a href="error.h.html#160">AWS_ERROR_MUTEX_NOT_INIT</a>,</div><div id="161" class="line none">  161     <a href="error.h.html#161">AWS_ERROR_MUTEX_TIMEOUT</a>,</div><div id="162" class="line none">  162     <a href="error.h.html#162">AWS_ERROR_MUTEX_CALLER_NOT_OWNER</a>,</div><div id="163" class="line none">  163     <a href="error.h.html#163">AWS_ERROR_MUTEX_FAILED</a>,</div><div id="164" class="line none">  164     <a href="error.h.html#164">AWS_ERROR_COND_VARIABLE_INIT_FAILED</a>,</div><div id="165" class="line none">  165     <a href="error.h.html#165">AWS_ERROR_COND_VARIABLE_TIMED_OUT</a>,</div><div id="166" class="line none">  166     <a href="error.h.html#166">AWS_ERROR_COND_VARIABLE_ERROR_UNKNOWN</a>,</div><div id="167" class="line none">  167     <a href="error.h.html#167">AWS_ERROR_CLOCK_FAILURE</a>,</div><div id="168" class="line none">  168     <a href="error.h.html#168">AWS_ERROR_LIST_EMPTY</a>,</div><div id="169" class="line none">  169     <a href="error.h.html#169">AWS_ERROR_DEST_COPY_TOO_SMALL</a>,</div><div id="170" class="line none">  170     <a href="error.h.html#170">AWS_ERROR_LIST_EXCEEDS_MAX_SIZE</a>,</div><div id="171" class="line none">  171     <a href="error.h.html#171">AWS_ERROR_LIST_STATIC_MODE_CANT_SHRINK</a>,</div><div id="172" class="line none">  172     <a href="error.h.html#172">AWS_ERROR_PRIORITY_QUEUE_FULL</a>,</div><div id="173" class="line none">  173     <a href="error.h.html#173">AWS_ERROR_PRIORITY_QUEUE_EMPTY</a>,</div><div id="174" class="line none">  174     <a href="error.h.html#174">AWS_ERROR_PRIORITY_QUEUE_BAD_NODE</a>,</div><div id="175" class="line none">  175     <a href="error.h.html#175">AWS_ERROR_HASHTBL_ITEM_NOT_FOUND</a>,</div><div id="176" class="line none">  176     <a href="error.h.html#176">AWS_ERROR_INVALID_DATE_STR</a>,</div><div id="177" class="line none">  177     <a href="error.h.html#177">AWS_ERROR_INVALID_ARGUMENT</a>,</div><div id="178" class="line none">  178     <a href="error.h.html#178">AWS_ERROR_RANDOM_GEN_FAILED</a>,</div><div id="179" class="line none">  179     <a href="error.h.html#179">AWS_ERROR_MALFORMED_INPUT_STRING</a>,</div><div id="180" class="line none">  180     <a href="error.h.html#180">AWS_ERROR_UNIMPLEMENTED</a>,</div><div id="181" class="line none">  181     <a href="error.h.html#181">AWS_ERROR_INVALID_STATE</a>,</div><div id="182" class="line none">  182     <a href="error.h.html#182">AWS_ERROR_ENVIRONMENT_GET</a>,</div><div id="183" class="line none">  183     <a href="error.h.html#183">AWS_ERROR_ENVIRONMENT_SET</a>,</div><div id="184" class="line none">  184     <a href="error.h.html#184">AWS_ERROR_ENVIRONMENT_UNSET</a>,</div><div id="185" class="line none">  185     <a href="error.h.html#185">AWS_ERROR_STREAM_UNSEEKABLE</a>,</div><div id="186" class="line none">  186     <a href="error.h.html#186">AWS_ERROR_NO_PERMISSION</a>,</div><div id="187" class="line none">  187     <a href="error.h.html#187">AWS_ERROR_FILE_INVALID_PATH</a>,</div><div id="188" class="line none">  188     <a href="error.h.html#188">AWS_ERROR_MAX_FDS_EXCEEDED</a>,</div><div id="189" class="line none">  189     <a href="error.h.html#189">AWS_ERROR_SYS_CALL_FAILURE</a>,</div><div id="190" class="line none">  190     <a href="error.h.html#190">AWS_ERROR_C_STRING_BUFFER_NOT_NULL_TERMINATED</a>,</div><div id="191" class="line none">  191     <a href="error.h.html#191">AWS_ERROR_STRING_MATCH_NOT_FOUND</a>,</div><div id="192" class="line none">  192     <a href="error.h.html#192">AWS_ERROR_DIVIDE_BY_ZERO</a>,</div><div id="193" class="line none">  193 </div><div id="194" class="line none">  194     <a href="error.h.html#194">AWS_ERROR_END_COMMON_RANGE</a> = <a href="error.h.html#22">AWS_ERROR_ENUM_END_RANGE</a>(AWS_C_COMMON_PACKAGE_ID)</div><div id="195" class="line none">  195 };</div><div id="196" class="line none">  196 </div><div id="197" class="line none">  197 #endif /* AWS_COMMON_ERROR_H */</div>
</div>
</body>
</html>
